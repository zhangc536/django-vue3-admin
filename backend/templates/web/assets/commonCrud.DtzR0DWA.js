import{t as l,F as c}from"./index.WrgjqPzT.js";import{d,h as p,v as f,a as h,o as w,s as _,J as u}from"./vue.UJNVWY_g.js";const b=d({__name:"index",props:{modelValue:{type:Number||String}},setup(s){const o=s,e=p();return f(()=>o.modelValue,async a=>{const r=await l().getParentDeptById(a);if(r!=null&&r.nodes){let i="";console.log(r),r.nodes.forEach((m,n)=>{i+=n>0?`/${m.name}`:m.name}),e.value=i}},{immediate:!0}),(a,t)=>(w(),h("div",null,_(e.value),1))}}),g={create_datetime:{form:!1,table:!1,search:!1,width:160},update_datetime:{form:!1,table:!1,search:!1,width:160},creator_name:{form:!1,table:!1,search:!1,width:100},modifier_name:{form:!1,table:!1,search:!1,width:100},dept_belong_id:{form:!1,table:!1,search:!1,width:300},description:{form:!1,table:!1,search:!1,width:100}};function D(s,o={}){const e={...s};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const t=e[a],r=o[a];t&&r&&(e[a]={...t,...r})}return e}const y=(s={})=>{const o=D(g,s);return{dept_belong_id:{title:"所属部门",type:"dict-tree",search:{show:o.dept_belong_id.search},dict:c({url:"/api/system/dept/all_dept/",isTree:!0,value:"id",label:"name",children:"children"}),column:{align:"center",width:o.dept_belong_id.width,show:o.dept_belong_id.table,component:{is:u(b),vModel:"modelValue"}},form:{show:o.dept_belong_id.form,component:{multiple:!1,clearable:!0,props:{checkStrictly:!0,props:{label:"name",value:"id"}}},helper:"默认不填则为当前创建用户的部门ID"}},modifier_name:{title:"修改人",search:{show:o.modifier_name.search},column:{width:o.modifier_name.width,show:o.modifier_name.table},form:{show:o.modifier_name.form},viewForm:{show:!0}},creator_name:{title:"创建人",search:{show:o.creator_name.search},column:{width:o.creator_name.width,show:o.creator_name.table},form:{show:o.creator_name.form},viewForm:{show:!0}},update_datetime:{title:"更新时间",type:"datetime",search:{show:o.update_datetime.search,col:{span:8},component:{type:"datetimerange",props:{"start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD HH:mm:ss","picker-options":{shortcuts:[{text:"最近一周",onClick(e){const a=new Date,t=new Date;t.setTime(t.getTime()-3600*1e3*24*7),e.$emit("pick",[t,a])}},{text:"最近一个月",onClick(e){const a=new Date,t=new Date;t.setTime(t.getTime()-3600*1e3*24*30),e.$emit("pick",[t,a])}},{text:"最近三个月",onClick(e){const a=new Date,t=new Date;t.setTime(t.getTime()-3600*1e3*24*90),e.$emit("pick",[t,a])}}]}}},valueResolve(e){const{value:a}=e;a&&(e.form.update_datetime_after=a[0],e.form.update_datetime_before=a[1],delete e.form.update_datetime)}},column:{width:o.update_datetime.width,show:o.update_datetime.table},form:{show:o.update_datetime.form},viewForm:{show:!0}},create_datetime:{title:"创建时间",type:"datetime",search:{show:o.create_datetime.search,col:{span:8},component:{type:"datetimerange",props:{"start-placeholder":"开始时间","end-placeholder":"结束时间","value-format":"YYYY-MM-DD HH:mm:ss","picker-options":{shortcuts:[{text:"最近一周",onClick(e){const a=new Date,t=new Date;t.setTime(t.getTime()-3600*1e3*24*7),e.$emit("pick",[t,a])}},{text:"最近一个月",onClick(e){const a=new Date,t=new Date;t.setTime(t.getTime()-3600*1e3*24*30),e.$emit("pick",[t,a])}},{text:"最近三个月",onClick(e){const a=new Date,t=new Date;t.setTime(t.getTime()-3600*1e3*24*90),e.$emit("pick",[t,a])}}]}}},valueResolve(e){const{value:a}=e;a&&(e.form.create_datetime_after=a[0],e.form.create_datetime_before=a[1],delete e.form.create_datetime)}},column:{width:o.create_datetime.width,show:o.create_datetime.table},form:{show:o.create_datetime.form},viewForm:{show:!0}}}};export{y as c};
