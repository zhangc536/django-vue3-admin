import{d as L,M as S,Q as F,R,g as $,c as E,j as M,X as j,k as m,a as i,m as d,o as r,l as b,u as p,w as h,T as q,F as z,p as D,b as f,s as _,Z as G,q as Q}from"./vue.UJNVWY_g.js";import{I as U,u as W,M as X,L as k}from"./index.WrgjqPzT.js";import{_ as Z}from"./_plugin-vue_export-helper.DlAUqK2U.js";const A={key:0,class:"layout-navbars-breadcrumb"},H={key:0,class:"layout-navbars-breadcrumb-span"},J={key:1},K={key:2},O=["onClick"],P=L({name:"layoutBreadcrumb"}),Y=L({...P,setup(ee){const B=U(),I=W(),{themeConfig:o}=S(I),{routesList:g}=S(B),c=F(),C=R(),e=$({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),w=E(()=>{u(c.path);const{layout:t,isBreadcrumb:a}=o.value;return t==="classic"||t==="transverse"?!1:a||document.body.clientWidth<=1e3}),N=t=>{const{redirect:a,path:n}=t;a?C.push(a):C.push(n)},T=()=>{o.value.isCollapse=!o.value.isCollapse,V()},V=()=>{k.remove("themeConfig"),k.set("themeConfig",o.value)},v=t=>{t.forEach(a=>{e.routeSplit.forEach((n,y,l)=>{e.routeSplitFirst===a.path&&(e.routeSplitFirst+=`/${l[e.routeSplitIndex]}`,e.breadcrumbList.push(a),e.routeSplitIndex++,a.children&&v(a.children))})})},u=t=>{if(!o.value.isBreadcrumb)return!1;e.breadcrumbList=[g.value[0]],e.routeSplit=t.split("/"),e.routeSplit.shift(),e.routeSplitFirst=`/${e.routeSplit[0]}`,e.routeSplitIndex=1,v(g.value),(c.name==="home"||c.name==="notFound"&&e.breadcrumbList.length>1)&&e.breadcrumbList.shift(),e.breadcrumbList.length>0&&(e.breadcrumbList[e.breadcrumbList.length-1].meta.tagsViewName=X.setTagsViewNameI18n(c))};return M(()=>{u(c.path)}),j(t=>{u(t.path)}),(t,a)=>{const n=m("SvgIcon"),y=m("el-breadcrumb-item"),l=m("el-breadcrumb");return w.value?(r(),i("div",A,[b(n,{class:"layout-navbars-breadcrumb-icon",name:p(o).isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:T},null,8,["name"]),b(l,{class:"layout-navbars-breadcrumb-hide"},{default:h(()=>[b(q,{name:"breadcrumb"},{default:h(()=>[(r(!0),i(z,null,D(e.breadcrumbList,(s,x)=>(r(),f(y,{key:s.meta.tagsViewName?s.meta.tagsViewName:s.meta.title},{default:h(()=>[x===e.breadcrumbList.length-1?(r(),i("span",H,[p(o).isBreadcrumbIcon?(r(),f(n,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):d("",!0),s.meta.tagsViewName?(r(),i("div",K,_(s.meta.tagsViewName),1)):(r(),i("div",J,_(t.$t(s.meta.title)),1))])):(r(),i("a",{key:1,onClick:G(te=>N(s),["prevent"])},[p(o).isBreadcrumbIcon?(r(),f(n,{key:0,name:s.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):d("",!0),Q(_(t.$t(s.meta.title)),1)],8,O))]),_:2},1024))),128))]),_:1})]),_:1})])):d("",!0)}}}),oe=Z(Y,[["__scopeId","data-v-99251853"]]);export{oe as default};
