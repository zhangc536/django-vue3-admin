import{r as j,o as q}from"./index.WrgjqPzT.js";import{d as h,h as d,j as L,k as s,a as c,o as l,l as t,w as a,e as n,m as v,s as g,b as k,q as x}from"./vue.UJNVWY_g.js";const S="/api/code_info/scan_data/";function T(f){return j({url:S,method:"post",data:f})}const U={class:"upgrade-dialog"},W={style:{"text-align":"center"}},A={key:0},E={key:1},I={key:2},M={key:3},O={style:{"font-size":"16px",color:"#979b9c"}},P={style:{width:"100%","margin-top":"50px"}},R=h({name:"layoutUpgrade"}),J=h({...R,setup(f,{expose:z}){const r=d(!1),m=d(""),i=d(0),o=d(-1),y=d(),w=()=>{T({code:m.value}).then(()=>{o.value=5,i.value=1,y.value=setInterval(()=>{o.value<=0?(u(),clearTimeout(y.value),o.value=5):o.value-=1},1e3)}).catch(p=>{i.value=(p==null?void 0:p.msg)==="重复扫码"?2:3,o.value=-1})},u=()=>{r.value=!1,q.emit("scanDataDoRefresh",()=>{})};return L(()=>{}),z({isShow:r,onclick:u,scanCode:m,postData:w}),(p,e)=>{const F=s("Loading"),_=s("el-icon"),V=s("CircleCheckFilled"),b=s("CircleCloseFilled"),B=s("WarningFilled"),C=s("el-button"),D=s("el-dialog");return l(),c("div",U,[t(D,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=N=>r.value=N),width:"500px","destroy-on-close":"","show-close":!0,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:a(()=>[n("div",W,[i.value===0?(l(),c("div",A,[t(_,{size:"100",color:"rgb(177, 179, 184)"},{default:a(()=>[t(F)]),_:1}),e[1]||(e[1]=n("div",{style:{"font-size":"18px"}},"识别中请稍等",-1))])):v("",!0),i.value===1?(l(),c("div",E,[t(_,{size:"100",color:"#57B046"},{default:a(()=>[t(V)]),_:1}),e[2]||(e[2]=n("div",{style:{"font-size":"18px"}},"扫码成功",-1))])):v("",!0),i.value===2?(l(),c("div",I,[t(_,{size:"100",color:"#F56C6C"},{default:a(()=>[t(b)]),_:1}),e[3]||(e[3]=n("div",{style:{"font-size":"18px"}},"条码重复",-1))])):v("",!0),i.value===3?(l(),c("div",M,[t(_,{size:"100",color:"#F56C6C"},{default:a(()=>[t(B)]),_:1}),e[4]||(e[4]=n("div",{style:{"font-size":"18px"}},"条码错误",-1))])):v("",!0),n("div",O,g(m.value),1),n("div",P,[o.value!==-1?(l(),k(C,{key:0,type:"primary",style:{width:"300px"},size:"large",onClick:u},{default:a(()=>[x(g(o.value)+"秒后自动关闭",1)]),_:1})):(l(),k(C,{key:1,type:"primary",style:{width:"300px"},size:"large",onClick:u},{default:a(()=>[...e[5]||(e[5]=[x("关闭",-1)])]),_:1}))])])]),_:1},8,["modelValue"])])}}});export{J as default};
